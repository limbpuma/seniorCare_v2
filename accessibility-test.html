<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Test - Pflegedienst Integra Gerling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.6;
        }
        .test-container {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 8px 4px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        .console-output {
            background: #343a40;
            color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 13px;
            max-height: 200px;
            overflow-y: auto;
            margin: 10px 0;
        }
        .main-site-link {
            display: inline-block;
            background: #28a745;
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .main-site-link:hover {
            background: #1e7e34;
            color: white;
        }
        .feature-demo {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <h1>üß™ Accessibility Testing Page</h1>
    <p>This page tests the accessibility functionality of the Pflegedienst Integra Gerling website.</p>
    
    <div class="test-container">
        <h2>üîó Main Site Access</h2>
        <p>Visit the main site to test accessibility controls in a real environment:</p>
        <a href="http://localhost:4324" class="main-site-link" target="_blank">
            üåê Open Main Site (http://localhost:4324)
        </a>
    </div>

    <div class="test-container">
        <h2>üîç Accessibility Manager Status</h2>
        <div id="managerStatus" class="status warning">
            ‚è≥ Checking Accessibility Manager...
        </div>
        <div id="consoleOutput" class="console-output"></div>
    </div>

    <div class="test-container">
        <h2>üéÆ Manual Button Tests</h2>
        <p>Test accessibility functions manually:</p>
        <button class="test-button" onclick="testTextSpacing()">üìù Test Text Spacing</button>
        <button class="test-button" onclick="testHighContrast()">üé® Test High Contrast</button>
        <button class="test-button" onclick="testFocusIndicators()">üéØ Test Focus Indicators</button>
        <button class="test-button" onclick="resetAll()">üîÑ Reset All</button>
        <div id="manualTestResults"></div>
    </div>

    <div class="test-container">
        <h2>‚å®Ô∏è Keyboard Shortcuts Test</h2>
        <p>Test these keyboard shortcuts:</p>
        <ul>
            <li><strong>Alt + T</strong> - Toggle Text Spacing</li>
            <li><strong>Alt + C</strong> - Toggle High Contrast</li>
            <li><strong>Alt + F</strong> - Toggle Focus Indicators</li>
            <li><strong>Alt + A</strong> - Open Accessibility Page</li>
        </ul>
        <div class="feature-demo">
            <p>Try typing in this input field and using Tab to test focus indicators:</p>
            <input type="text" placeholder="Test input field" style="padding: 8px; margin: 5px;">
            <button style="padding: 8px 16px; margin: 5px;">Test Button</button>
            <a href="#" style="margin: 5px; display: inline-block;">Test Link</a>
        </div>
    </div>

    <div class="test-container">
        <h2>üìä Accessibility Features Demo</h2>
        <div class="feature-demo">
            <h3>Text Spacing Example</h3>
            <p>This paragraph demonstrates text spacing changes. When text spacing is enabled, 
            the words should have more space between them, lines should be more spaced out, 
            and letters should have better spacing for improved readability.</p>
            
            <h3>High Contrast Example</h3>
            <p>This text will change to high contrast colors when high contrast mode is enabled.
            Background should become black and text should become white for better visibility.</p>
            
            <h3>Focus Indicators Example</h3>
            <p>Use Tab key to navigate through these elements and see the focus indicators:</p>
            <button style="margin: 5px; padding: 8px;">Button 1</button>
            <button style="margin: 5px; padding: 8px;">Button 2</button>
            <input type="text" placeholder="Input field" style="margin: 5px; padding: 8px;">
        </div>
    </div>

    <script>
        let consoleOutput = document.getElementById('consoleOutput');
        let managerStatus = document.getElementById('managerStatus');
        let originalLog = console.log;
        
        // Capture console messages
        console.log = function(...args) {
            originalLog.apply(console, args);
            consoleOutput.innerHTML += args.join(' ') + '\n';
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        };

        // Check if AccessibilityManager is available
        function checkAccessibilityManager() {
            if (typeof window.accessibilityManager !== 'undefined') {
                managerStatus.className = 'status success';
                managerStatus.innerHTML = '‚úÖ Accessibility Manager is loaded and ready!';
                console.log('‚úÖ AccessibilityManager detected');
                console.log('Current state:', window.accessibilityManager.getAccessibilityState());
                return true;
            } else {
                managerStatus.className = 'status error';
                managerStatus.innerHTML = '‚ùå Accessibility Manager not found. Please visit the main site first.';
                console.log('‚ùå AccessibilityManager not found');
                return false;
            }
        }

        // Manual test functions
        function testTextSpacing() {
            if (checkAccessibilityManager()) {
                console.log('üß™ Testing Text Spacing...');
                window.accessibilityManager.toggleTextSpacing();
                updateTestResults('Text Spacing toggled');
            }
        }

        function testHighContrast() {
            if (checkAccessibilityManager()) {
                console.log('üß™ Testing High Contrast...');
                window.accessibilityManager.toggleHighContrast();
                updateTestResults('High Contrast toggled');
            }
        }

        function testFocusIndicators() {
            if (checkAccessibilityManager()) {
                console.log('üß™ Testing Focus Indicators...');
                window.accessibilityManager.toggleFocusIndicators();
                updateTestResults('Focus Indicators toggled');
            }
        }

        function resetAll() {
            if (checkAccessibilityManager()) {
                console.log('üß™ Resetting all accessibility features...');
                window.accessibilityManager.resetAllPreferences();
                updateTestResults('All features reset');
            }
        }

        function updateTestResults(message) {
            const results = document.getElementById('manualTestResults');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `<div class="status success">[${timestamp}] ${message}</div>`;
        }

        // Initial check
        setTimeout(checkAccessibilityManager, 1000);
        
        // Check periodically
        setInterval(checkAccessibilityManager, 5000);

        console.log('üß™ Accessibility test page loaded');
        console.log('Visit http://localhost:4324 in another tab to load the AccessibilityManager');
    </script>
</body>
</html>
