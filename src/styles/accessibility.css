/* 
 * Estilos de accesibilidad
 * Estos estilos se aplican cuando los usuarios activan las funciones de accesibilidad
 */

/* Estilos para espaciado de texto mejorado */
.improved-text-spacing {
  word-spacing: 0.16em;
  line-height: 1.5;
  letter-spacing: 0.12em;
}

.improved-text-spacing p {
  margin-bottom: 2em;
}

.improved-text-spacing h1,
.improved-text-spacing h2,
.improved-text-spacing h3,
.improved-text-spacing h4,
.improved-text-spacing h5,
.improved-text-spacing h6 {
  margin-top: 1.5em;
  margin-bottom: 1em;
}

.improved-text-spacing li {
  margin-bottom: 1em;
}

/* Estilos para modo de alto contraste */
.high-contrast {
  background-color: #000000;
  color: #FFFFFF;
}

.high-contrast a {
  color: #FFFF00;
}

.high-contrast button,
.high-contrast .btn,
.high-contrast input[type="button"],
.high-contrast input[type="submit"] {
  background-color: #0066CC;
  color: #FFFFFF;
  border: 2px solid #FFFFFF;
}

.high-contrast .header,
.high-contrast .footer {
  background-color: #000000;
  border-color: #FFFFFF;
}

.high-contrast img {
  filter: brightness(1.2) contrast(1.2);
}

/* Estilos para indicadores de foco mejorados - se agregan dinámicamente por JS */
.enhanced-focus:focus {
  outline: 3px solid #FF9900;
  outline-offset: 3px;
  box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.4);
}

/* Animaciones para los botones de accesibilidad */
.accessibility-btn {
  transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
}

.accessibility-btn:hover,
.accessibility-btn:focus {
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.accessibility-btn.active {
  background-color: #0057b8;
  color: #FFFFFF;
}

/* Mejorar la visibilidad de los botones de accesibilidad */
.accessibility-controls {
  backdrop-filter: blur(4px);
  border-radius: 10px;
  padding: 10px;
  background-color: rgba(255, 255, 255, 0.3);
}

/* Estilos específicos para los controles globales en Layout */
.global-accessibility-controls {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.global-accessibility-controls:hover {
  transform: scale(1.05);
}

/* Media query para dispositivos móviles */
@media (max-width: 768px) {
  .global-accessibility-controls {
    bottom: 10px;
    right: 10px;
  }
  
  .accessibility-btn {
    width: 40px;
    height: 40px;
  }
  
  .accessibility-btn span {
    font-size: 18px;
  }
}

/* === ESTILOS ADICIONALES PARA CUMPLIMIENTO WCAG 2.2 === */

/* Mejorar contraste y legibilidad en modo alto contraste */
.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  background-color: #FFFFFF;
  color: #000000;
  border: 2px solid #FFFFFF;
}

.high-contrast input:focus,
.high-contrast textarea:focus,
.high-contrast select:focus {
  outline: 3px solid #FFFF00;
  background-color: #FFFFCC;
}

/* Estilos para cards y contenedores en alto contraste */
.high-contrast .card,
.high-contrast .service-card,
.high-contrast .testimonial-card {
  background-color: #1A1A1A;
  border: 2px solid #FFFFFF;
  color: #FFFFFF;
}

/* Navegación en alto contraste */
.high-contrast nav,
.high-contrast .nav-menu {
  background-color: #000000;
  border: 2px solid #FFFFFF;
}

.high-contrast nav a,
.high-contrast .nav-link {
  color: #FFFF00;
  border-bottom: 2px solid transparent;
}

.high-contrast nav a:hover,
.high-contrast .nav-link:hover,
.high-contrast nav a:focus,
.high-contrast .nav-link:focus {
  background-color: #0066CC;
  color: #FFFFFF;
  border-bottom-color: #FFFF00;
}

/* Tooltips mejorados para accesibilidad */
.accessibility-tooltip {
  position: absolute;
  bottom: 110%;
  right: 0;
  background-color: #333333;
  color: #FFFFFF;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  z-index: 1001;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.accessibility-tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  right: 20px;
  border: 5px solid transparent;
  border-top-color: #333333;
}

.accessibility-btn:hover .accessibility-tooltip,
.accessibility-btn:focus .accessibility-tooltip {
  opacity: 1;
  visibility: visible;
}

/* Indicadores de estado para screen readers */
.sr-only {
  position: absolute;
  left: -10000px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Mejorar foco en modo enhanced-focus para todos los elementos interactivos */
.enhanced-focus a:focus,
.enhanced-focus button:focus,
.enhanced-focus input:focus,
.enhanced-focus textarea:focus,
.enhanced-focus select:focus,
.enhanced-focus [tabindex]:focus {
  outline: 3px solid #FF9900;
  outline-offset: 3px;
  box-shadow: 0 0 0 6px rgba(255, 153, 0, 0.4);
  border-radius: 4px;
}

/* Estilos específicos para enlaces en foco mejorado */
.enhanced-focus a:focus {
  background-color: #FFF3CD;
  color: #856404;
  text-decoration: underline;
  padding: 2px 4px;
  margin: -2px -4px;
}

/* Saltar al contenido principal - accesibilidad */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000000;
  color: #FFFFFF;
  padding: 8px;
  z-index: 10000;
  text-decoration: none;
  border-radius: 4px;
  font-weight: bold;
}

.skip-link:focus {
  top: 6px;
  outline: 3px solid #FF9900;
}

/* Animaciones reducidas para usuarios que prefieren menos movimiento */
@media (prefers-reduced-motion: reduce) {
  .accessibility-btn,
  .global-accessibility-controls,
  .accessibility-tooltip {
    transition: none;
  }
  
  .accessibility-btn:hover,
  .accessibility-btn:focus {
    transform: none;
  }
  
  .global-accessibility-controls:hover {
    transform: none;
  }
}

/* Mejoras para dispositivos táctiles */
@media (pointer: coarse) {
  .accessibility-btn {
    min-width: 44px;
    min-height: 44px;
    touch-action: manipulation;
  }
}

/* Estilos para modo oscuro/claro automático */
@media (prefers-color-scheme: dark) {
  .accessibility-controls {
    background-color: rgba(40, 40, 40, 0.9);
    color: #FFFFFF;
  }
  
  .accessibility-tooltip {
    background-color: #555555;
    color: #FFFFFF;
  }
  
  .accessibility-tooltip::after {
    border-top-color: #555555;
  }
}

/* Indicadores visuales para usuarios con daltonismo y estados */
.high-contrast .success {
  background-color: #000000;
  color: #00FF00;
  border: 2px solid #00FF00;
}

.high-contrast .warning {
  background-color: #000000;
  color: #FFFF00;
  border: 2px solid #FFFF00;
}

.high-contrast .error {
  background-color: #000000;
  color: #FF0000;
  border: 2px solid #FF0000;
}

/* Espaciado mejorado para lista y elementos de formulario */
.improved-text-spacing form {
  line-height: 1.6;
}

.improved-text-spacing label {
  display: block;
  margin-bottom: 0.5em;
  margin-top: 1.5em;
}

.improved-text-spacing input,
.improved-text-spacing textarea,
.improved-text-spacing select {
  margin-bottom: 1.5em;
  padding: 12px;
}

.improved-text-spacing fieldset {
  margin: 2em 0;
  padding: 1.5em;
}

.improved-text-spacing legend {
  padding: 0 1em;
  margin-bottom: 1em;
}

/* Mejorar visibilidad de elementos de navegación */
.high-contrast .breadcrumb,
.high-contrast .pagination {
  background-color: #1A1A1A;
  border: 1px solid #FFFFFF;
}

.high-contrast .breadcrumb a,
.high-contrast .pagination a {
  color: #FFFF00;
  padding: 8px 12px;
  border: 1px solid transparent;
}

.high-contrast .breadcrumb a:hover,
.high-contrast .pagination a:hover {
  background-color: #0066CC;
  border-color: #FFFFFF;
}

/* Estado de carga y transiciones accesibles */
.accessibility-loading {
  display: inline-block;
  position: relative;
}

.accessibility-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border: 2px solid #CCCCCC;
  border-top-color: #0066CC;
  border-radius: 50%;
  animation: accessibility-spin 1s linear infinite;
}

@keyframes accessibility-spin {
  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Modo de alto contraste para el spinner */
.high-contrast .accessibility-loading::after {
  border-color: #FFFFFF;
  border-top-color: #FFFF00;
}

/* Reducir animaciones para usuarios que lo prefieren */
@media (prefers-reduced-motion: reduce) {
  .accessibility-loading::after {
    animation: none;
  }
}
