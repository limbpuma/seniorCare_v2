---
// Cookie Banner Component for DSGVO Compliance
import texts from "@/utils/texts.json";

// Use fallback texts if not found in JSON
const cookieTexts = texts.cookies || {
  banner: {
    title: "Cookie-Einstellungen",
    message: "Wir verwenden Cookies, um Ihnen die beste Erfahrung auf unserer Website zu bieten. Sie können auswählen, welche Kategorien von Cookies Sie zulassen möchten.",
    acceptAll: "Alle akzeptieren",
    acceptNecessary: "Nur notwendige",
    customize: "Anpassen"
  }
};
---

<!-- Cookie Banner -->
<div 
  id="cookie-banner" 
  class="fixed bottom-0 left-0 right-0 bg-white border-t-2 border-primary shadow-2xl z-50"
  style="display: none;"
  role="banner"
  aria-labelledby="cookie-banner-title"
  aria-describedby="cookie-banner-description"
>
  <div class="max-w-7xl mx-auto p-4 sm:p-6">
    <div class="flex flex-col lg:flex-row items-start lg:items-center gap-4 lg:gap-6">
      <!-- Content -->
      <div class="flex-1">
        <h3 id="cookie-banner-title" class="text-lg font-bold text-deep-blue mb-2">
          {cookieTexts.banner.title}
        </h3>
        <p id="cookie-banner-description" class="text-sm sm:text-base text-gray-600 leading-relaxed">
          {cookieTexts.banner.message}
          <a 
            href="/privacypolicy" 
            class="text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded ml-1"
          >
            Mehr erfahren
          </a>
        </p>
      </div>
      
      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-2 sm:gap-3 w-full lg:w-auto">
        <button
          id="accept-all-cookies"
          class="bg-primary hover:bg-primary/90 text-white font-medium py-2.5 px-4 sm:px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-sm sm:text-base whitespace-nowrap"
        >
          {cookieTexts.banner.acceptAll}
        </button>
        
        <button
          id="reject-cookies"
          class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2.5 px-4 sm:px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 text-sm sm:text-base whitespace-nowrap"
        >
          {cookieTexts.banner.acceptNecessary}
        </button>
        
        <button
          id="customize-cookies"
          class="bg-soft-blue hover:bg-soft-blue/90 text-white font-medium py-2.5 px-4 sm:px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-soft-blue focus:ring-offset-2 text-sm sm:text-base whitespace-nowrap"
        >
          {cookieTexts.banner.customize}
        </button>
      </div>
    </div>
  </div>
</div>
